# 🚀 Gemini가 제안하는 통합 서비스 로드맵

이 문서는 `servicePlan.md`와 `servicePlan2.md`의 핵심 아이디어와 기술 분석을 통합하여, **안정적이고 확장 가능하며 법적으로 안전한** 상용 서비스를 구축하기 위한 단계별 실행 계획을 제시합니다.

---

## 🧭 핵심 추진 원칙

1.  **안정성 우선 (Stability First):** 새로운 기능 추가에 앞서 현재 플랫폼의 기술적 부채를 해결하고 안정적인 기반을 다집니다.
2.  **점진적 MVP (Minimum Viable Product):** 모든 기능을 한 번에 완벽하게 구현하기보다, 핵심 가치를 담은 MVP를 빠르게 출시하여 시장의 피드백을 받고 개선합니다.
3.  **설계 기반 보안 및 법률 (Security & Legal by Design):** 저작권, 개인정보보호 등 법적 리스크는 프로젝트 초기부터 설계에 반영하여 안전한 서비스를 구축합니다.
4.  **관리 가능한 확장 (Manageable Scaling):** `Docker Compose`로 시작하여 관리 복잡성을 최소화하고, 서비스 성장에 맞춰 AWS ECS, Google Cloud Run 또는 Kubernetes(k8s)로 점진적으로 확장합니다.
5.  **현실적인 API 연동:** 기술적/정책적 제약이 큰 API(e.g., 소셜미디어)는 초기에는 사용자의 편의성을 돕는 방향으로 접근하고, 점차 완전 자동화로 나아갑니다.

---

## 🗺️ 단계별 실행 계획 (Phased Roadmap)

### Phase 1: 파운데이션 & 핵심 안정화 (4주)

**목표:** 현재 플랫폼의 모든 Mock 데이터를 실제 데이터로 전환하고, 코드베이스를 리팩토링하여 상용 서비스의 기술적 기반을 마련합니다.

**주요 과업:**

-   **[ ] 데이터 완전 실데이터화 (`servicePlan.md`):**
    -   프론트엔드의 모든 Mock 데이터를 실제 API 호출로 100% 전환.
    -   소상공인 API, 인구통계 API 등 백엔드 데이터 수집 파이프라인 안정화 및 오류 처리 강화.

-   **[ ] 백엔드 리팩토링 (`gemini_suggest.md`):**
    -   **`insights_analysis_service.py` 개선:** `subprocess` 호출을 Docker 네트워크를 통한 직접적인 HTTP API 호출로 변경.
    -   **환경 변수 분리:** 하드코딩된 모든 경로, URL, API 키를 `.env` 파일 및 설정 파일로 이전.
    -   **예외 처리 개선:** 광범위한 `try-except`를 구체적인 예외 처리로 변경하고, 일관된 오류 응답을 위한 미들웨어 도입.
    -   **SQLAlchemy 모델 표준화:** `Index` 구문을 사용하여 명시적으로 인덱스를 정의하고, 임포트 경로를 절대 경로로 통일.

-   **[ ] 프론트엔드 리팩토링 (`gemini_suggest.md`):**
    -   **`React Query` (TanStack Query) 도입:** 서버 상태 관리를 위해 `React Query`를 도입. `PopulationDashboardPage.tsx`에 우선 적용하여 패턴을 확립하고, 점차 모든 데이터 페칭 로직을 전환.
    -   **API 서비스 통일:** `populationService.ts` 등에서 개별 `axios` 인스턴스를 사용하는 대신, 인터셉터가 적용된 중앙 `apiClient`를 사용하도록 통일.
    -   **코드 정리:** 불필요한 `.new` 임시 파일들을 제거하고 코드베이스를 정리.

-   **[ ] 전단지 편집기 안정화 (`servicePlan.md`):**
    -   현재 Fabric.js 구현의 버그를 수정하고 성능을 안정화.
    -   30개 이상의 복잡한 템플릿 대신, 5~10개의 핵심 업종 템플릿을 우선 제공하여 기능의 완성도를 높임.

---

### Phase 2: 법률 리스크 대응 및 보안 강화 (3주)

**목표:** AI 콘텐츠 생성의 가장 큰 리스크인 저작권 문제를 해결하고, 서비스의 전반적인 보안 수준을 높여 사용자가 신뢰할 수 있는 환경을 구축합니다.

**주요 과업:**

-   **[ ] AI 이미지 저작권 보호 시스템 구축 (MVP) (`servicePlan2.md`):**
    -   **(최우선) 사용자 제공 이미지 활용:** YOLO, SAM 등 세그멘테이션 모델을 활용하여, 사용자가 직접 업로드한 상품 사진에서 상품(누끼)만 추출하고, AI는 저작권에 안전한 배경을 생성/합성하는 기능을 먼저 구현.
    -   **AI 생성 이미지 안전장치:**
        -   AI가 처음부터 이미지를 생성할 경우, 눈에 띄는 워터마크("AI 생성 이미지")와 비가시적인 디지털 워터마크를 모두 삽입.
        -   생성된 이미지가 KIPRIS 등 저작권 데이터베이스의 이미지와 유사한지 확인하는 기본 유사도 검사 기능 도입 (API 활용).
    -   **법적 면책 조항:** 서비스 이용약관에 AI 생성 이미지의 상업적 사용 책임은 사용자에게 있음을 명시하고, UI에 관련 안내 문구를 명확히 표시.

-   **[ ] 서비스 보안 강화:**
    -   인증/인가 로직에 대한 보안 코드 리뷰 수행.
    -   로그인, 회원가입 등 주요 API에 Rate Limiting(요청 횟수 제한)을 적용하여 Brute-force 공격 방어.
    -   모든 서비스 통신 구간에 HTTPS(SSL/TLS) 적용 의무화.

---

### Phase 3: 핵심 기능 확장 및 상용화 (5주)

**목표:** 시장에서 경쟁 우위를 점할 수 있는 핵심 차별화 기능(세무, 소셜미디어)의 MVP를 개발하고, 유료 결제 모델을 도입하여 첫 수익을 창출합니다.

**주요 과업:**

-   **[ ] 세무 회계 자동화 (MVP) (`servicePlan2.md`):**
    -   **사업자등록증 OCR 스캔:** 모바일 앱 또는 웹캠으로 사업자등록증을 촬영하면, OCR 기술로 정보를 자동 추출하여 프로필을 생성하는 기능 구현.
    -   **기본 장부 기능:** 추출된 정보를 바탕으로, 사용자가 직접 매입/매출 내역을 간단히 기록할 수 있는 수기 장부 기능 제공.
    -   **세무 정보 제공:** 기록된 데이터를 바탕으로 예상 부가세액 등을 계산하여 보여주고, 국세청 홈택스 신고에 필요한 요약 정보를 제공 (자동 신고는 다음 단계로).

-   **[ ] 소셜미디어 자동화 (현실적 MVP) (`servicePlan.md`):**
    -   **(1단계) API 연동:** 정책적으로 연동이 용이한 **네이버 블로그, 티스토리** API를 우선적으로 연동하여 자동 포스팅 기능 구현.
    -   **(2단계) 반자동화:** Instagram, Facebook 등 주요 SNS는, 플랫폼별로 최적화된 캡션과 해시태그를 생성하여 '클립보드에 복사' 버튼을 제공하고, 최적화된 이미지를 '다운로드' 하도록 하여 사용자의 수동 업로드를 강력하게 지원.
    -   **콘텐츠 스케줄링:** 1단계에서 연동된 플랫폼을 대상으로 `Celery`와 `Redis`를 이용한 예약 포스팅 기능 구현.

-   **[ ] AI 상담 시스템 고도화 (`servicePlan.md`):**
    -   Phase 1에서 확보된 실제 상권, 인구통계 데이터를 기반으로 RAG(검색 증강 생성) 시스템을 구축하여 더 정확하고 데이터 기반의 답변을 제공하도록 개선.

-   **[ ] 상용화 준비 (`servicePlan.md`):**
    -   **결제 시스템 연동:** 아임포트, 토스페이먼츠 등 국내 PG사와 연동하여 구독 결제 기능 구현.
    -   **Freemium 모델 적용:** 무료/유료(Premium) 등급에 따라 기능 접근을 제한하는 로직 구현.

---

### Phase 4: 확장 및 고도화 (지속)

**목표:** 사용자 증가에 대응하여 인프라를 확장하고, 모바일 경험을 강화하며, 사용자 피드백 기반으로 추가적인 고부가가치 기능을 개발합니다.

**주요 과업:**

-   **[ ] 인프라 확장 및 모니터링 (`servicePlan.md`):**
    -   **캐싱 전략 고도화:** 3단계 캐싱(In-memory, Redis, CDN)을 도입하여 API 응답 속도 및 DB 부하 감소.
    -   **모니터링 시스템 구축:** Prometheus, Grafana 등을 활용하여 서비스 상태 및 성능을 실시간으로 모니터링하는 대시보드 구축.
    -   **컨테이너 오케스트레이션 도입:** 트래픽 증가 시, `docker-compose` 환경에서 관리형 컨테이너 플랫폼(e.g., AWS ECS, Google Cloud Run)으로 이전하여 운영 효율성 및 확장성 확보.

-   **[ ] 모바일 네이티브 앱 개발 (`servicePlan2.md`):**
    -   `React Native`와 `Expo`를 사용하여 iOS/Android 앱 개발 착수.
    -   웹의 핵심 기능(대시보드, 콘텐츠 생성, 상권 분석)과 모바일 특화 기능(사업자등록증 OCR 스캔, 푸시 알림)을 우선적으로 구현.

-   **[ ] 고부가가치 기능 개발 (`servicePlan2.md`):**
    -   **법률 상담 AI:** 소상공인에게 필요한 근로계약, 임대차계약 등 기본적인 법률 지식에 대해 답변하는 RAG 기반 AI 상담 기능 개발.
    -   **스마트 재고 관리 및 CRM:** 사용자 피드백과 시장 요구사항을 분석하여 재고 관리, 고객 관리 등 추가 기능 개발 검토.
